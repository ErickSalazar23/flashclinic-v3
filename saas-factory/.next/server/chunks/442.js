exports.id=442,exports.ids=[442],exports.modules={4621:(e,s,a)=>{Promise.resolve().then(a.bind(a,6886)),Promise.resolve().then(a.bind(a,5937))},9885:(e,s,a)=>{Promise.resolve().then(a.bind(a,3850)),Promise.resolve().then(a.bind(a,3157))},1760:(e,s,a)=>{"use strict";a.d(s,{PipelineBoard:()=>n});var t=a(5512),r=a(8657),l=a(9334);let i=[{stage:"agenda_detenida",title:"Agenda Detenida",color:"text-red-400",bgColor:"bg-red-500/10"},{stage:"diagnostico_proceso",title:"En Diagn\xf3stico",color:"text-orange-400",bgColor:"bg-orange-500/10"},{stage:"tratamiento_aplicado",title:"En Tratamiento",color:"text-blue-400",bgColor:"bg-blue-500/10"},{stage:"recuperacion_exitosa",title:"Recuperados",color:"text-green-400",bgColor:"bg-green-500/10"}];function n({prospects:e}){let s=(0,l.useRouter)(),a=()=>{s.refresh()},n=e=>{console.log("Selected prospect:",e.id)},o=s=>e.filter(e=>e.stage===s),c=e=>e.reduce((e,s)=>e+s.dealValue,0),d=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(e=>{let s=o(e.stage),l=c(s);return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:`rounded-t-xl p-4 ${e.bgColor}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:`font-semibold ${e.color}`,children:e.title}),(0,t.jsx)("span",{className:`text-sm font-medium ${e.color}`,children:s.length})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-400",children:["Valor: ",d(l)]})]}),(0,t.jsx)("div",{className:"flex-1 bg-slate-800/30 rounded-b-xl p-3 space-y-3 min-h-[400px]",children:0===s.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-32 text-slate-500 text-sm",children:"Sin prospectos"}):s.map(e=>(0,t.jsx)(r.ProspectCard,{prospect:e,onUpdate:a,onSelect:n},e.id))})]},e.stage)})})}},8657:(e,s,a)=>{"use strict";a.d(s,{ProspectCard:()=>d});var t=a(5512),r=a(6248);let l=(0,r.createServerReference)("6094777ce2ff50ff62fe9e922325f1eb91e796c075",r.callServer,void 0,r.findSourceMapURL,"updateProspectStage");var i=a(8009);let n={agenda_detenida:"Agenda Detenida",diagnostico_proceso:"En Diagn\xf3stico",tratamiento_aplicado:"En Tratamiento",recuperacion_exitosa:"Recuperado"},o={critical:"border-l-red-500 bg-red-500/5",severe:"border-l-orange-500 bg-orange-500/5",moderate:"border-l-yellow-500 bg-yellow-500/5",stable:"border-l-green-500 bg-green-500/5"},c={critical:"badge-critical",severe:"badge-severe",moderate:"badge-moderate",stable:"badge-stable"};function d({prospect:e,onUpdate:s,onSelect:a}){let[r,d]=(0,i.useTransition)(),m=e.diagnostic?.severity||"stable",x=e.diagnostic?.perdidaAnual||0,h=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),u=a=>{d(async()=>{await l(e.id,a),s?.()})},p=(()=>{switch(e.stage){case"agenda_detenida":return"diagnostico_proceso";case"diagnostico_proceso":return"tratamiento_aplicado";case"tratamiento_aplicado":return"recuperacion_exitosa";default:return null}})();return(0,t.jsxs)("div",{className:`card border-l-4 cursor-pointer transition-all hover:scale-[1.02] ${o[m]} ${r?"opacity-50":""}`,onClick:()=>a?.(e),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-white truncate",children:e.doctorName}),(0,t.jsx)("p",{className:"text-sm text-slate-400 truncate",children:e.clinicName})]}),(0,t.jsx)("span",{className:`badge ${c[m]}`,children:m})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Especialidad"}),(0,t.jsx)("span",{className:"text-slate-300",children:e.specialty})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Ciudad"}),(0,t.jsx)("span",{className:"text-slate-300",children:e.city})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Hemorragia Anual"}),(0,t.jsx)("span",{className:"text-red-400 font-medium",children:h(x)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Deal Value"}),(0,t.jsx)("span",{className:"text-green-400 font-medium",children:h(e.dealValue)})]})]}),p&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-700",children:(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),u(p)},disabled:r,className:"btn btn-primary w-full text-sm",children:["Mover a ",n[p]]})})]})}},1152:(e,s,a)=>{"use strict";a.d(s,{ProspectForm:()=>o});var t=a(5512),r=a(8009),l=a(6248);let i=(0,l.createServerReference)("40f27612fab4ffc97630191762bfe3bae57b2388b1",l.callServer,void 0,l.findSourceMapURL,"createProspect");var n=a(9334);function o({onSuccess:e,onCancel:s}){let a=(0,n.useRouter)(),[l,o]=(0,r.useTransition)(),[c,d]=(0,r.useState)(null);return(0,t.jsxs)("form",{onSubmit:s=>{s.preventDefault(),d(null);let t=new FormData(s.currentTarget),r={doctorName:t.get("doctorName"),specialty:t.get("specialty"),clinicName:t.get("clinicName"),phone:t.get("phone"),email:t.get("email"),city:t.get("city"),citasSemanales:Number(t.get("citasSemanales")),ticketPromedio:Number(t.get("ticketPromedio")),noShowPercentage:Number(t.get("noShowPercentage")),slotsDisponibles:Number(t.get("slotsDisponibles")),horasConsulta:Number(t.get("horasConsulta")),notes:t.get("notes")};o(async()=>{let s=await i(r);if(!s.ok){d(s.error);return}a.refresh(),e?.()})},className:"space-y-6",children:[c&&(0,t.jsx)("div",{className:"rounded-md bg-red-500/10 border border-red-500/20 p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-400",children:c})}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Informaci\xf3n del Doctor"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Nombre del Doctor *"}),(0,t.jsx)("input",{type:"text",name:"doctorName",required:!0,className:"input",placeholder:"Dr. Juan P\xe9rez"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Especialidad *"}),(0,t.jsx)("input",{type:"text",name:"specialty",required:!0,className:"input",placeholder:"Odontolog\xeda"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Nombre de la Cl\xednica *"}),(0,t.jsx)("input",{type:"text",name:"clinicName",required:!0,className:"input",placeholder:"Cl\xednica Dental Sonrisa"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Ciudad *"}),(0,t.jsx)("input",{type:"text",name:"city",required:!0,className:"input",placeholder:"Madrid"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Tel\xe9fono *"}),(0,t.jsx)("input",{type:"tel",name:"phone",required:!0,className:"input",placeholder:"+34 600 000 000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Email *"}),(0,t.jsx)("input",{type:"email",name:"email",required:!0,className:"input",placeholder:"doctor@clinica.com"})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"M\xe9tricas de la Pr\xe1ctica"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Citas Semanales *"}),(0,t.jsx)("input",{type:"number",name:"citasSemanales",required:!0,min:"0",className:"input",placeholder:"40"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Ticket Promedio (EUR) *"}),(0,t.jsx)("input",{type:"number",name:"ticketPromedio",required:!0,min:"0",className:"input",placeholder:"150"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"% No-Show *"}),(0,t.jsx)("input",{type:"number",name:"noShowPercentage",required:!0,min:"0",max:"100",step:"0.1",className:"input",placeholder:"15"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Slots Disponibles/Semana *"}),(0,t.jsx)("input",{type:"number",name:"slotsDisponibles",required:!0,min:"0",className:"input",placeholder:"60"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Horas de Consulta/Semana *"}),(0,t.jsx)("input",{type:"number",name:"horasConsulta",required:!0,min:"0",className:"input",placeholder:"40"})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Notas"}),(0,t.jsx)("textarea",{name:"notes",rows:4,className:"input",placeholder:"Notas adicionales sobre el prospecto..."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[s&&(0,t.jsx)("button",{type:"button",onClick:s,className:"btn btn-ghost",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:l,className:"btn btn-primary",children:l?"Creando...":"Crear Prospecto"})]})]})}},3850:(e,s,a)=>{"use strict";a.d(s,{PageLoading:()=>r});var t=a(5512);function r({message:e="Cargando..."}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-slate-700 rounded-full"}),(0,t.jsx)("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e})]})}},3157:(e,s,a)=>{"use strict";a.d(s,{Sidebar:()=>c});var t=a(5512),r=a(8531),l=a.n(r),i=a(9334),n=a(3746);let o=[{href:"/dashboard",label:"Dashboard",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},{href:"/prospects",label:"Prospectos",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})},{href:"/pendientes",label:"Pendientes",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},{href:"/agents",label:"Agentes AI",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}];function c(){let e=(0,i.usePathname)(),s=(0,i.useRouter)(),a=(0,n.U)(),r=async()=>{await a.auth.signOut(),s.push("/login"),s.refresh()};return(0,t.jsx)("aside",{className:"fixed left-0 top-0 z-40 h-screen w-64 bg-slate-900 border-r border-slate-800",children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-white",children:"Flash Clinic"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"v3.0"})]})]}),(0,t.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:o.map(s=>{let a=e===s.href||e.startsWith(s.href+"/");return(0,t.jsxs)(l(),{href:s.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${a?"bg-blue-500/10 text-blue-400":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.icon,(0,t.jsx)("span",{className:"font-medium",children:s.label})]},s.href)})}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,t.jsxs)("button",{onClick:r,className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,t.jsx)("span",{className:"font-medium",children:"Cerrar Sesi\xf3n"})]})})]})})}},8179:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i,metadata:()=>l});var t=a(2740),r=a(2595);let l={title:"Flash Clinic V3",description:"Motor de Adquisici\xf3n M\xe9dica"};function i({children:e}){return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950",children:[(0,t.jsx)(r.Bx,{}),(0,t.jsx)("main",{className:"pl-64",children:(0,t.jsx)("div",{className:"p-8",children:e})})]})}},6886:(e,s,a)=>{"use strict";a.d(s,{PageLoading:()=>t});let t=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call PageLoading() from the server but PageLoading is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Proyectos Personales Software\\v3-saas-factory\\saas-factory-setup\\saas-factory\\src\\shared\\components\\PageLoading.tsx","PageLoading")},5937:(e,s,a)=>{"use strict";a.d(s,{Sidebar:()=>t});let t=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Proyectos Personales Software\\v3-saas-factory\\saas-factory-setup\\saas-factory\\src\\shared\\components\\Sidebar.tsx","Sidebar")},2595:(e,s,a)=>{"use strict";a.d(s,{pp:()=>l,WL:()=>t.PageLoading,Bx:()=>i.Sidebar});var t=a(6886),r=a(2740);function l({title:e,description:s,icon:a,action:t}){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-center px-4",children:[a&&(0,r.jsx)("div",{className:"mb-4 text-slate-500",children:a}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e}),(0,r.jsx)("p",{className:"text-slate-400 text-sm max-w-md mb-6",children:s}),t&&t]})}var i=a(5937)}};