(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{8255:(e,t,s)=>{Promise.resolve().then(s.bind(s,7527))},7527:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),i=s(2115),l=s(1086),n=s(6046),r=s(8173),c=s.n(r);function d(){let e=(0,n.useRouter)(),[t,s]=(0,i.useTransition)(),[r,d]=(0,i.useState)(null),[m,o]=(0,i.useState)("login"),[u,x]=(0,i.useState)(!1),h=(0,l.U)(),b=async t=>{t.preventDefault(),d(null);let a=new FormData(t.currentTarget),i=a.get("email"),l=a.get("password");s(async()=>{let{error:t}=await h.auth.signInWithPassword({email:i,password:l});if(t){d(t.message);return}e.push("/dashboard"),e.refresh()})},p=async e=>{e.preventDefault(),d(null);let t=new FormData(e.currentTarget).get("email");s(async()=>{let{error:e}=await h.auth.signInWithOtp({email:t,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(e){d(e.message);return}x(!0)})};return(0,a.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Flash Clinic"}),(0,a.jsx)("p",{className:"text-slate-400 mt-2",children:"Motor de Adquisici\xf3n M\xe9dica"})]}),(0,a.jsx)("div",{className:"card",children:u?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-500/20 flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Revisa tu correo"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Hemos enviado un enlace m\xe1gico a tu email. Haz click en \xe9l para iniciar sesi\xf3n."}),(0,a.jsx)("button",{onClick:()=>x(!1),className:"mt-6 text-sm text-blue-400 hover:text-blue-300",children:"Volver a intentar"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex rounded-lg bg-slate-800 p-1 mb-6",children:[(0,a.jsx)("button",{onClick:()=>o("login"),className:"flex-1 py-2 text-sm font-medium rounded-md transition-all ".concat("login"===m?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:"Contrase\xf1a"}),(0,a.jsx)("button",{onClick:()=>o("magic"),className:"flex-1 py-2 text-sm font-medium rounded-md transition-all ".concat("magic"===m?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:"Magic Link"})]}),r&&(0,a.jsx)("div",{className:"rounded-md bg-red-500/10 border border-red-500/20 p-3 mb-4",children:(0,a.jsx)("p",{className:"text-sm text-red-400",children:r})}),"login"===m?(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",required:!0,className:"input",placeholder:"tu@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Contrase\xf1a"}),(0,a.jsx)("input",{type:"password",name:"password",required:!0,className:"input",placeholder:"••••••••"})]}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"btn btn-primary w-full",children:t?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}):(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",required:!0,className:"input",placeholder:"tu@email.com"})]}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"btn btn-primary w-full",children:t?"Enviando...":"Enviar Magic Link"})]})]})}),(0,a.jsxs)("div",{className:"text-center mt-6 space-y-3",children:[(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:["\xbfNo tienes cuenta?"," ",(0,a.jsx)(c(),{href:"/signup",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Crear una aqu\xed"})]}),(0,a.jsx)("p",{className:"text-center text-slate-500 text-sm",children:"Flash Clinic V3 - Motor de Adquisici\xf3n M\xe9dica"})]})]})})}},1086:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var a=s(9194);function i(){return(0,a.createBrowserClient)("https://yrlxpabmxezbcftxqivs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlybHhwYWJteGV6YmNmdHhxaXZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NjI5NzEsImV4cCI6MjA4NTEzODk3MX0.6Rh8UKoGJfRKkxaZ8jeWzeRB0D81ViY0fKCt-A8ucLg")}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,877,441,517,358],()=>t(8255)),_N_E=e.O()}]);