(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{1719:(e,s,a)=>{Promise.resolve().then(a.bind(a,114)),Promise.resolve().then(a.bind(a,1472)),Promise.resolve().then(a.bind(a,8812)),Promise.resolve().then(a.bind(a,1807))},5828:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{callServer:function(){return t.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return r.findSourceMapURL}});let t=a(9603),r=a(3355),l=a(4979).createServerReference},114:(e,s,a)=>{"use strict";a.d(s,{DecisionCard:()=>d});var t=a(5155);let r={prospect_review:"Revisi\xf3n de Prospecto",follow_up:"Seguimiento",deal_approval:"Aprobaci\xf3n de Deal",treatment_plan:"Plan de Tratamiento"},l={high:"Alta",medium:"Media",low:"Baja"};var i=a(5828);let n=(0,i.createServerReference)("606484aa8a8ccada3f198411d84ab3256cd2cfb329",i.callServer,void 0,i.findSourceMapURL,"updateDecisionStatus");var c=a(2115);function d(e){let{decision:s,onUpdate:a}=e,[i,d]=(0,c.useTransition)();return(0,t.jsxs)("div",{className:"card border-l-4 ".concat({high:"border-l-red-500",medium:"border-l-yellow-500",low:"border-l-blue-500"}[s.priority]," ").concat(i?"opacity-50":""),children:[(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"badge bg-slate-700 text-slate-300",children:r[s.type]}),(0,t.jsx)("span",{className:"badge ".concat("high"===s.priority?"badge-critical":"medium"===s.priority?"badge-moderate":"badge-stable"),children:l[s.priority]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-1 truncate",children:s.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:s.description}),s.prospectName&&(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Prospecto: ",(0,t.jsx)("span",{className:"text-slate-300",children:s.prospectName})]}),s.dueDate&&(0,t.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["Vence: ",(0,t.jsx)("span",{className:"text-slate-300",children:new Date(s.dueDate).toLocaleDateString("es-ES")})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{onClick:()=>{d(async()=>{await n(s.id,"APPROVED"),null==a||a()})},disabled:i,className:"btn btn-primary flex-1",children:"Aprobar"}),(0,t.jsx)("button",{onClick:()=>{d(async()=>{await n(s.id,"REJECTED"),null==a||a()})},disabled:i,className:"btn btn-danger flex-1",children:"Rechazar"}),(0,t.jsx)("button",{onClick:()=>{d(async()=>{await n(s.id,"DEFERRED"),null==a||a()})},disabled:i,className:"btn btn-ghost",children:"Diferir"})]})]})}},1472:(e,s,a)=>{"use strict";a.d(s,{DecisionsPageClient:()=>i});var t=a(5155),r=a(114),l=a(6046);function i(e){let{decisions:s}=e,a=(0,l.useRouter)(),i=()=>{a.refresh()},n=s.filter(e=>"high"===e.priority),c=s.filter(e=>"medium"===e.priority),d=s.filter(e=>"low"===e.priority);return(0,t.jsxs)("div",{className:"space-y-8",children:[n.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-red-400 mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Prioridad Alta (",n.length,")"]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(e=>(0,t.jsx)(r.DecisionCard,{decision:e,onUpdate:i},e.id))})]}),c.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-yellow-400 mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Prioridad Media (",c.length,")"]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:c.map(e=>(0,t.jsx)(r.DecisionCard,{decision:e,onUpdate:i},e.id))})]}),d.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-blue-400 mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Prioridad Baja (",d.length,")"]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:d.map(e=>(0,t.jsx)(r.DecisionCard,{decision:e,onUpdate:i},e.id))})]})]})}},1086:(e,s,a)=>{"use strict";a.d(s,{U:()=>r});var t=a(9194);function r(){return(0,t.createBrowserClient)("https://yrlxpabmxezbcftxqivs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlybHhwYWJteGV6YmNmdHhxaXZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NjI5NzEsImV4cCI6MjA4NTEzODk3MX0.6Rh8UKoGJfRKkxaZ8jeWzeRB0D81ViY0fKCt-A8ucLg")}},8812:(e,s,a)=>{"use strict";a.d(s,{PageLoading:()=>r});var t=a(5155);function r(e){let{message:s="Cargando..."}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-slate-700 rounded-full"}),(0,t.jsx)("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:s})]})}},1807:(e,s,a)=>{"use strict";a.d(s,{Sidebar:()=>d});var t=a(5155),r=a(8173),l=a.n(r),i=a(6046),n=a(1086);let c=[{href:"/dashboard",label:"Dashboard",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},{href:"/prospects",label:"Prospectos",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})},{href:"/pendientes",label:"Pendientes",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}];function d(){let e=(0,i.usePathname)(),s=(0,i.useRouter)(),a=(0,n.U)(),r=async()=>{await a.auth.signOut(),s.push("/login"),s.refresh()};return(0,t.jsx)("aside",{className:"fixed left-0 top-0 z-40 h-screen w-64 bg-slate-900 border-r border-slate-800",children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-white",children:"Flash Clinic"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"v3.0"})]})]}),(0,t.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:c.map(s=>{let a=e===s.href||e.startsWith(s.href+"/");return(0,t.jsxs)(l(),{href:s.href,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ".concat(a?"bg-blue-500/10 text-blue-400":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[s.icon,(0,t.jsx)("span",{className:"font-medium",children:s.label})]},s.href)})}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,t.jsxs)("button",{onClick:r,className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,t.jsx)("span",{className:"font-medium",children:"Cerrar Sesi\xf3n"})]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[173,877,441,517,358],()=>s(1719)),_N_E=e.O()}]);