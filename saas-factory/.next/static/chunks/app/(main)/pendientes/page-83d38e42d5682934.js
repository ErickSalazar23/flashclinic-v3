(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{1719:(e,s,t)=>{Promise.resolve().then(t.bind(t,114)),Promise.resolve().then(t.bind(t,1472)),Promise.resolve().then(t.bind(t,8812)),Promise.resolve().then(t.bind(t,1807))},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},5828:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{callServer:function(){return a.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return r.findSourceMapURL}});let a=t(9603),r=t(3355),l=t(4979).createServerReference},114:(e,s,t)=>{"use strict";t.d(s,{DecisionCard:()=>c});var a=t(5155);let r={prospect_review:"Revisi\xf3n de Prospecto",follow_up:"Seguimiento",deal_approval:"Aprobaci\xf3n de Deal",treatment_plan:"Plan de Tratamiento"},l={high:"Alta",medium:"Media",low:"Baja"};var i=t(5828);let n=(0,i.createServerReference)("606484aa8a8ccada3f198411d84ab3256cd2cfb329",i.callServer,void 0,i.findSourceMapURL,"updateDecisionStatus");var o=t(2115);function c(e){let{decision:s,onUpdate:t}=e,[i,c]=(0,o.useTransition)();return(0,a.jsxs)("div",{className:"card border-l-4 ".concat({high:"border-l-red-500",medium:"border-l-yellow-500",low:"border-l-blue-500"}[s.priority]," ").concat(i?"opacity-50":""),children:[(0,a.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"badge bg-slate-700 text-slate-300",children:r[s.type]}),(0,a.jsx)("span",{className:"badge ".concat("high"===s.priority?"badge-critical":"medium"===s.priority?"badge-moderate":"badge-stable"),children:l[s.priority]})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-1 truncate",children:s.title}),(0,a.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:s.description}),s.prospectName&&(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:["Prospecto: ",(0,a.jsx)("span",{className:"text-slate-300",children:s.prospectName})]}),s.dueDate&&(0,a.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["Vence: ",(0,a.jsx)("span",{className:"text-slate-300",children:new Date(s.dueDate).toLocaleDateString("es-ES")})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-700",children:[(0,a.jsx)("button",{onClick:()=>{c(async()=>{await n(s.id,"APPROVED"),null==t||t()})},disabled:i,className:"btn btn-primary flex-1",children:"Aprobar"}),(0,a.jsx)("button",{onClick:()=>{c(async()=>{await n(s.id,"REJECTED"),null==t||t()})},disabled:i,className:"btn btn-danger flex-1",children:"Rechazar"}),(0,a.jsx)("button",{onClick:()=>{c(async()=>{await n(s.id,"DEFERRED"),null==t||t()})},disabled:i,className:"btn btn-ghost",children:"Diferir"})]})]})}},1472:(e,s,t)=>{"use strict";t.d(s,{DecisionsPageClient:()=>i});var a=t(5155),r=t(114),l=t(6046);function i(e){let{decisions:s}=e,t=(0,l.useRouter)(),i=()=>{t.refresh()},n=s.filter(e=>"high"===e.priority),o=s.filter(e=>"medium"===e.priority),c=s.filter(e=>"low"===e.priority);return(0,a.jsxs)("div",{className:"space-y-8",children:[n.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-red-400 mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Prioridad Alta (",n.length,")"]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(e=>(0,a.jsx)(r.DecisionCard,{decision:e,onUpdate:i},e.id))})]}),o.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-yellow-400 mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Prioridad Media (",o.length,")"]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:o.map(e=>(0,a.jsx)(r.DecisionCard,{decision:e,onUpdate:i},e.id))})]}),c.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-blue-400 mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Prioridad Baja (",c.length,")"]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:c.map(e=>(0,a.jsx)(r.DecisionCard,{decision:e,onUpdate:i},e.id))})]})]})}},1086:(e,s,t)=>{"use strict";t.d(s,{U:()=>r});var a=t(9194);function r(){return(0,a.createBrowserClient)("https://yrlxpabmxezbcftxqivs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlybHhwYWJteGV6YmNmdHhxaXZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NjI5NzEsImV4cCI6MjA4NTEzODk3MX0.6Rh8UKoGJfRKkxaZ8jeWzeRB0D81ViY0fKCt-A8ucLg")}},8812:(e,s,t)=>{"use strict";t.d(s,{PageLoading:()=>r});var a=t(5155);function r(e){let{message:s="Cargando..."}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-slate-700 rounded-full"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:s})]})}},1807:(e,s,t)=>{"use strict";t.d(s,{Sidebar:()=>c});var a=t(5155),r=t(8173),l=t.n(r),i=t(6046),n=t(1086);let o=[{href:"/dashboard",label:"Dashboard",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},{href:"/prospects",label:"Prospectos",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})},{href:"/pendientes",label:"Pendientes",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},{href:"/agents",label:"Agentes AI",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}];function c(){let e=(0,i.usePathname)(),s=(0,i.useRouter)(),t=(0,n.U)(),r=async()=>{await t.auth.signOut(),s.push("/login"),s.refresh()};return(0,a.jsx)("aside",{className:"fixed left-0 top-0 z-40 h-screen w-64 bg-slate-900 border-r border-slate-800",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-slate-800",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-white",children:"Flash Clinic"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"v3.0"})]})]}),(0,a.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:o.map(s=>{let t=e===s.href||e.startsWith(s.href+"/");return(0,a.jsxs)(l(),{href:s.href,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ".concat(t?"bg-blue-500/10 text-blue-400":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[s.icon,(0,a.jsx)("span",{className:"font-medium",children:s.label})]},s.href)})}),(0,a.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,a.jsxs)("button",{onClick:r,className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,a.jsx)("span",{className:"font-medium",children:"Cerrar Sesi\xf3n"})]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[173,194,441,517,358],()=>s(1719)),_N_E=e.O()}]);