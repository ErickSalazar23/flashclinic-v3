(()=>{var e={};e.id=990,e.ids=[990],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},8055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>f,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>p});var n={};r.r(n),r.d(n,{GET:()=>u});var s=r(2706),a=r(8203),i=r(5994),o=r(5546),c=r(9187);async function u(){try{let e=await (0,o.U)(),{error:t}=await e.from("landing_leads").select("id").limit(1);if(t&&(t.message.includes("relation")||"PGRST116"===t.code))return c.NextResponse.json({success:!1,message:"La tabla landing_leads a\xfan no existe o no es accesible",sql:`
            CREATE TABLE IF NOT EXISTS landing_leads (
              id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
              created_at TIMESTAMPTZ DEFAULT NOW(),
              clinic_name TEXT NOT NULL,
              email TEXT NOT NULL,
              phone TEXT NOT NULL,
              status TEXT DEFAULT 'new',
              notes TEXT DEFAULT ''
            );
            CREATE INDEX IF NOT EXISTS idx_landing_leads_email ON landing_leads(email);
          `},{status:400});return c.NextResponse.json({success:!0,message:"âœ… Tabla landing_leads detectada y lista"})}catch(e){return c.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Error desconocido"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/init/landing-leads/route",pathname:"/api/init/landing-leads",filename:"route",bundlePath:"app/api/init/landing-leads/route"},resolvedPagePath:"C:\\Users\\USER\\Proyectos Personales Software\\v3-saas-factory\\saas-factory-setup\\saas-factory\\src\\app\\api\\init\\landing-leads\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:d,workUnitAsyncStorage:p,serverHooks:f}=l;function g(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:p})}},6487:()=>{},8335:()=>{},7301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6301));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}let a={current:null},i="function"==typeof n.cache?n.cache:e=>e,o=console.warn;function c(e){return function(...t){o(e(...t))}}i(e=>{try{o(a.current)}finally{a.current=null}})},5546:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(8374),s=r(4512);async function a(){let e=await (0,s.UL)();return(0,n.createServerClient)("https://yrlxpabmxezbcftxqivs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlybHhwYWJteGV6YmNmdHhxaXZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NjI5NzEsImV4cCI6MjA4NTEzODk3MX0.6Rh8UKoGJfRKkxaZ8jeWzeRB0D81ViY0fKCt-A8ucLg",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:r,options:n})=>e.set(t,r,n))}catch{}}}})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,969,452],()=>r(8055));module.exports=n})();