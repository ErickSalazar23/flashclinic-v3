(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{9136:(e,t,r)=>{Promise.resolve().then(r.bind(r,6451))},5828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return l.findSourceMapURL}});let a=r(9603),l=r(3355),n=r(4979).createServerReference},6451:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),l=r(2115),n=r(5828);let s=(0,n.createServerReference)("40e133e3352ef254982cf3dc84f7b2450facd8f072",n.callServer,void 0,n.findSourceMapURL,"createAppointmentBooking");function o(){let[e,t]=(0,l.useState)(1),[r,n]=(0,l.useState)({name:"",phone:"",email:"",doctorId:"dr-juan-perez",doctorName:"Dr. Juan P\xe9rez",specialty:"Medicina General",date:"2026-02-04",startTime:"09:00:00",endTime:"09:30:00"}),[o,d]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),b=()=>t(e+1),h=()=>t(e-1),g=async e=>{e.preventDefault(),d(!0);try{let e=await s({doctorId:r.doctorId,patientName:r.name,patientPhone:r.phone,patientEmail:r.email,appointmentDate:r.date,startTime:r.startTime,endTime:r.endTime});e.success?x(!0):alert("Error: ".concat(e.error))}catch(e){console.error("Error booking appointment:",e),alert("Error al agendar la cita. Por favor intenta de nuevo.")}finally{d(!1)}};return m?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4 text-green-500",children:"✅"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\xa1Cita agendada con \xe9xito!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Te hemos enviado una confirmaci\xf3n por WhatsApp."}),(0,a.jsx)("button",{onClick:()=>window.location.href="/citas",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold",children:"Volver al inicio"})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,a.jsx)("span",{className:e>=1?"text-blue-600 font-semibold":"text-gray-400",children:"1. Doctor"}),(0,a.jsx)("span",{className:e>=2?"text-blue-600 font-semibold":"text-gray-400",children:"2. Horario"}),(0,a.jsx)("span",{className:e>=3?"text-blue-600 font-semibold":"text-gray-400",children:"3. Confirmar"})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded-full",children:(0,a.jsx)("div",{className:"h-2 bg-blue-600 rounded-full transition-all",style:{width:"".concat(e/3*100,"%")}})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[1===e&&(0,a.jsx)(i,{onNext:(e,t)=>{n({...r,doctorName:e,specialty:t}),b()}}),2===e&&(0,a.jsx)(c,{onNext:e=>{n({...r,startTime:e}),b()},onBack:h}),3===e&&(0,a.jsx)(u,{formData:r,setFormData:e=>n({...r,...e}),onBack:h,onSubmit:g,isSubmitting:o})]})]})})}function i(e){let{onNext:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Selecciona tu doctor"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(d,{name:"Dr. Juan P\xe9rez",specialty:"Medicina General",onClick:()=>t("Dr. Juan P\xe9rez","Medicina General")}),(0,a.jsx)(d,{name:"Dra. Mar\xeda Gonz\xe1lez",specialty:"Odontolog\xeda",onClick:()=>t("Dra. Mar\xeda Gonz\xe1lez","Odontolog\xeda")})]})]})}function d(e){let{name:t,specialty:r,onClick:l}=e;return(0,a.jsxs)("button",{onClick:l,className:"w-full flex items-center p-4 border rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all text-left",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full mr-4 flex items-center justify-center text-xl",children:"\uD83D\uDC64"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-lg text-gray-900",children:t}),(0,a.jsx)("p",{className:"text-gray-600",children:r})]})]})}function c(e){let{onNext:t,onBack:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"\xbfCu\xe1ndo quieres tu cita?"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[(0,a.jsx)("button",{className:"p-4 border-2 border-blue-500 rounded-lg font-semibold text-blue-600",children:"Hoy"}),(0,a.jsx)("button",{className:"p-4 border-2 border-gray-300 rounded-lg hover:border-blue-500 text-gray-600",children:"Ma\xf1ana"}),(0,a.jsx)("button",{className:"p-4 border-2 border-gray-300 rounded-lg hover:border-blue-500 text-gray-600",children:"Vie 7"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-8",children:[(0,a.jsx)("button",{className:"p-3 bg-blue-600 text-white rounded-lg",onClick:()=>t("09:00:00"),children:"9:00 AM"}),(0,a.jsx)("button",{className:"p-3 bg-blue-600 text-white rounded-lg",onClick:()=>t("10:00:00"),children:"10:00 AM"}),(0,a.jsx)("button",{className:"p-3 bg-gray-200 text-gray-400 rounded-lg",disabled:!0,children:"11:00 AM"}),(0,a.jsx)("button",{className:"p-3 bg-blue-600 text-white rounded-lg",onClick:()=>t("15:00:00"),children:"3:00 PM"})]}),(0,a.jsx)("button",{onClick:r,className:"text-gray-600 font-medium",children:"← Cambiar doctor"})]})}function u(e){let{formData:t,setFormData:r,onBack:l,onSubmit:n,isSubmitting:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Confirma tu cita"}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[(0,a.jsx)("p",{className:"font-semibold text-lg mb-2 text-gray-900",children:t.doctorName}),(0,a.jsx)("p",{className:"text-gray-600",children:t.specialty}),(0,a.jsxs)("p",{className:"text-gray-600 mt-4",children:[(0,a.jsx)("strong",{children:"Fecha:"})," ",t.date,(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Hora:"})," ",t.startTime]})]}),(0,a.jsxs)("form",{onSubmit:n,className:"space-y-4 mb-6",children:[(0,a.jsx)("input",{type:"text",placeholder:"Tu nombre completo",className:"w-full px-4 py-3 border rounded-lg text-gray-900",value:t.name,onChange:e=>r({name:e.target.value}),required:!0}),(0,a.jsx)("input",{type:"tel",placeholder:"WhatsApp",className:"w-full px-4 py-3 border rounded-lg text-gray-900",value:t.phone,onChange:e=>r({phone:e.target.value}),required:!0}),(0,a.jsx)("input",{type:"email",placeholder:"Email (opcional)",className:"w-full px-4 py-3 border rounded-lg text-gray-900",value:t.email,onChange:e=>r({email:e.target.value})}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:s?"Confirmando...":"Confirmar cita →"})]}),(0,a.jsx)("button",{onClick:l,className:"text-gray-600 font-medium",children:"← Cambiar horario"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(9136)),_N_E=e.O()}]);